{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useLayoutEffect, useEffect, useState } from \"react\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport styles from \"./styles\";\nimport { fetchData } from \"../../data/TheMealDB\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function RecipesListScreen(props) {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    recipe = _useState2[0],\n    setRecipe = _useState2[1];\n  useEffect(function () {\n    console.log(props);\n    var route = props.route;\n    var params = route.params;\n    var category = params.category;\n    handleFetchData(category);\n  }, [props.route]);\n  var handleFetchData = function () {\n    var _ref = _asyncToGenerator(function* (item) {\n      try {\n        var data = yield fetchData(\"filter.php?c=\" + item);\n        setRecipe(data.meals);\n      } catch (error) {\n        console.log(error);\n      }\n    });\n    return function handleFetchData(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var navigation = props.navigation,\n    route = props.route;\n  useLayoutEffect(function () {\n    var _route$params;\n    navigation.setOptions({\n      title: (_route$params = route.params) == null ? void 0 : _route$params.title,\n      headerRight: function headerRight() {\n        return _jsx(View, {});\n      }\n    });\n  }, []);\n  var onPressRecipe = function onPressRecipe(item) {\n    navigation.navigate(\"Recipe\", {\n      item: item\n    });\n  };\n  var renderRecipes = function renderRecipes(_ref2) {\n    var item = _ref2.item;\n    return _jsx(TouchableHighlight, {\n      underlayColor: \"rgba(73,182,77,0.9)\",\n      onPress: function onPress() {\n        return onPressRecipe(item.idMeal);\n      },\n      children: _jsxs(View, {\n        style: styles.container,\n        children: [_jsx(Image, {\n          style: styles.photo,\n          source: {\n            uri: item.strMealThumb\n          }\n        }), _jsx(Text, {\n          style: styles.title,\n          children: item.strMeal\n        })]\n      })\n    });\n  };\n  return _jsx(View, {\n    children: _jsx(FlatList, {\n      vertical: true,\n      showsVerticalScrollIndicator: false,\n      numColumns: 2,\n      data: recipe,\n      renderItem: renderRecipes,\n      keyExtractor: function keyExtractor(item) {\n        return item.idMeal;\n      }\n    })\n  });\n}","map":{"version":3,"names":["React","useLayoutEffect","useEffect","useState","FlatList","Text","View","TouchableHighlight","Image","styles","fetchData","jsx","_jsx","jsxs","_jsxs","RecipesListScreen","props","_useState","_useState2","_slicedToArray","recipe","setRecipe","console","log","route","params","category","handleFetchData","_ref","_asyncToGenerator","item","data","meals","error","_x","apply","arguments","navigation","_route$params","setOptions","title","headerRight","onPressRecipe","navigate","renderRecipes","_ref2","underlayColor","onPress","idMeal","children","style","container","photo","source","uri","strMealThumb","strMeal","vertical","showsVerticalScrollIndicator","numColumns","renderItem","keyExtractor"],"sources":["C:/Users/user/OneDrive/Documents/KULIAH/semester 5/prak ppb/TA/recipeapp_reactnative-main/src/screens/RecipesList/RecipesListScreen.js"],"sourcesContent":["import React, { useLayoutEffect, useEffect, useState } from \"react\";\nimport { FlatList, Text, View, TouchableHighlight, Image } from \"react-native\";\nimport styles from \"./styles\";\nimport { fetchData } from \"../../data/TheMealDB\";\n\nexport default function RecipesListScreen(props) {\n  const [recipe, setRecipe] = useState([]);\n\n  useEffect(() => {\n    console.log(props)\n    // Access the 'item' parameter from the route\n    const { route } = props;\n    const { params } = route;\n    const { category } = params;\n\n\n    // Fetch data using the 'item' parameter\n    handleFetchData(category);\n  }, [props.route]);\n\n  const handleFetchData = async (item) => {\n    try {\n      const data = await fetchData(`filter.php?c=${item}`);\n      setRecipe(data.meals);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const { navigation, route } = props;\n\n  useLayoutEffect(() => {\n    navigation.setOptions({\n      title: route.params?.title,\n      headerRight: () => <View />,\n    });\n  }, []);\n\n  const onPressRecipe = (item) => {\n    navigation.navigate(\"Recipe\", { item });\n  };\n\n  const renderRecipes = ({ item }) => (\n    <TouchableHighlight underlayColor=\"rgba(73,182,77,0.9)\" onPress={() => onPressRecipe(item.idMeal)}>\n      <View style={styles.container}>\n        <Image style={styles.photo} source={{ uri: item.strMealThumb }} />\n        <Text style={styles.title}>{item.strMeal}</Text>\n      </View>\n    </TouchableHighlight>\n  );\n\n  return (\n    <View>\n      <FlatList vertical showsVerticalScrollIndicator={false} numColumns={2} data={recipe} renderItem={renderRecipes} keyExtractor={(item) => item.idMeal} />\n    </View>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}